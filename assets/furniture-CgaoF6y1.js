import{e as n,u as b,o as r,c as d,a as t,f as u,v as h,F as m,g as _,t as c}from"./index-B1jx4BVc.js";import{u as f}from"./index-M6AcLWsh.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";const p={name:"furniture",data(){return{furniture:{jihoz_nomi:"",soni:0},furnitureList:[]}},methods:{async getRooms(){this.furnitureList=[];try{const o=await n.get("ombor.php?token="+this.lokalUser.token);o.status===200&&(this.furnitureList=o.data.data,console.log(o.data))}catch(o){console.error(o.message)}},async createFurniture(){const o={headers:{"Content-Type":"multipart/form-data"}};try{(await n.post("ombor.php?token="+this.lokalUser.token,this.furniture,o)).data.status?(await this.getRooms(),this.createRoomToast()):this.errorToast()}catch(s){this.errorToast(),console.error(s.message)}},async deleteRoom(o){try{(await n.get("delete?honalar&id="+o+"&token="+this.lokalUser.token)).data.status&&(await this.getRooms(),this.successRoomToast())}catch(s){this.errorToast(),console.error(s.message)}},createRoomToast(){this.toast.success("Xona muvaffaqiyatli yaratildi",{position:"top-right",timeout:1800,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})},successRoomToast(){this.toast.success(" muvaffaqiyatli bajarildi",{position:"top-right",timeout:1800,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})},errorToast(){this.toast.error("Xatolik yuz berdi",{position:"top-right",timeout:1800,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})}},setup(){const o=f(),s=b();return{v$:o,toast:s}},async mounted(){this.lokalUser=JSON.parse(localStorage.getItem("lokalUser")),await this.getRooms()}},y={class:"content-wrapper"},v={class:"container-xxl flex-grow-1 container-p-y"},k=t("h4",{class:"fw-bold py-3 mb-4"}," Xonalar ",-1),w={class:"card"},O=t("div",{class:"card-header d-flex justify-content-between"},[t("h5",{class:""},"Xonalar"),t("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#addRoomModal"}," Xona qo'shish ")],-1),R={class:"modal fade",id:"addRoomModal",tabindex:"-1","aria-labelledby":"addRoomModalLabel","aria-hidden":"true"},B={class:"modal-dialog modal-dialog-centered"},x={class:"modal-content"},C=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"addRoomModalLabel"},"Modal title"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),L={class:"modal-body"},T=t("label",null," Jihoz nomi ",-1),M=t("label",null," Soni ",-1),q={class:"modal-footer"},z=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Bekor qilish",-1),F={class:"card-body"},X={class:"table-responsive text-nowrap"},j={class:"table table-bordered"},H=t("thead",null,[t("tr",null,[t("th",null,"Xona nomi"),t("th",null,"Xona raqami"),t("th",null,"Tahrirlash")])],-1),U=t("button",{class:"badge badge-center bg-warning btn me-3"},[t("i",{class:"fa-solid fa-pen-to-square"})],-1),D=["data-bs-target"],P=t("i",{class:"fa-solid fa-trash"},null,-1),S=[P],V=["id","aria-labelledby"],J={class:"modal-dialog"},N={class:"modal-content"},E={class:"modal-header"},I=["id"],Y=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),A={class:"modal-body"},G={class:"modal-footer"},K=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Yo'q",-1),Q=["onClick"];function W(o,s,Z,$,a,i){return r(),d("div",y,[t("div",v,[k,t("div",w,[O,t("div",R,[t("div",B,[t("div",x,[C,t("div",L,[T,u(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>a.furniture.jihoz_nomi=e),type:"text",class:"form-control"},null,512),[[h,a.furniture.jihoz_nomi]]),M,u(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>a.furniture.soni=e),type:"number",class:"form-control"},null,512),[[h,a.furniture.soni]])]),t("div",q,[z,t("button",{onClick:s[2]||(s[2]=(...e)=>i.createFurniture&&i.createFurniture(...e)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},"Saqlash")])])])]),t("div",F,[t("div",X,[t("table",j,[H,t("tbody",null,[(r(!0),d(m,null,_(a.furnitureList,(e,l)=>(r(),d("tr",{key:l},[t("td",null,c(e.jihoz_nomi),1),t("td",null,c(e.soni),1),t("td",null,[U,t("button",{class:"btn badge badge-center bg-danger","data-bs-toggle":"modal","data-bs-target":"#roomDeleteModal_"+l},S,8,D),t("div",{class:"modal fade",id:"roomDeleteModal_"+l,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"roomDeleteModalLabel_"+l,"aria-hidden":"true"},[t("div",J,[t("div",N,[t("div",E,[t("h1",{class:"modal-title fs-5",id:"roomDeleteModalLabel_"+l},"Xona O'chirish",8,I),Y]),t("div",A,[t("h4",null,c(e.jihoz_nomi)+" ni xonani o'chirishni xoxlaysizmi?",1)]),t("div",G,[K,t("button",{type:"button",class:"btn btn-primary",onClick:tt=>i.deleteRoom(e.id),"data-bs-dismiss":"modal"},"Ha",8,Q)])])])],8,V)])]))),128))])])])])])])])}const at=g(p,[["render",W]]);export{at as default};
