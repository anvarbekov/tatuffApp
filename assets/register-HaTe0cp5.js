import{u as w,e as g,r as k,o as l,c as n,a as s,f as u,v as b,n as c,t as h,j as m,k as y,l as x,F as L,g as M,b as P,w as V,d as z}from"./index-B1jx4BVc.js";import{u as C}from"./index-M6AcLWsh.js";import{c as r,r as p,m as f,a as v,e as B}from"./index-BA3j53iW.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={name:"register",data(){return{auth:{ism:"",familiya:"Familiya",login:"",parol:"",kasblar_id:1},jobsList:[],isJobsLoaded:!1,showPassword:!1,toasts:[]}},setup(){const o=C(),e=w();return{v$:o,toast:e}},methods:{successToast(){this.toast.success("Muvaffaqiyatlik ro'yhatdan o'tdingiz",{position:"top-right",timeout:1800,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})},errorToast(){this.toast.error("Xatolik yuz berdi",{position:"top-right",timeout:1800,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})},async fetchJobs(){try{let o=await g.get("kasblar.php");o.status===200&&(this.jobsList=o.data.data,this.isJobsLoaded=!0,console.log(this.jobsList))}catch(o){console.error(o.message)}},togglePasswordVisibility(){this.showPassword=!this.showPassword},async registerUser(){if(this.v$.auth.$touch(),this.v$.auth.$invalid){window.scrollTo({top:0,behavior:"smooth"});return}const o={headers:{"Content-Type":"multipart/form-data"}};try{(await g.post("register.php",this.auth,o)).status===200&&(this.successToast(),this.$router.push("auth/login"))}catch(e){console.error(e.message),this.errorToast()}}},async mounted(){await this.fetchJobs()},validations:{auth:{ism:{required:r.withMessage("Yozilishi shart",p),minLength:r.withMessage("3 ta belgidan ko'p  bo'lishi kerak",f(3)),maxLength:r.withMessage("100 ta belgidan kam bo'lishi kerak",v(100))},login:{required:r.withMessage("Yozilishi shart",p),email:r.withMessage("Email manzilingiz noto'g'ri",B)},parol:{required:r.withMessage("Yozilishi shart",p),minLength:r.withMessage("3 ta belgidan ko'p  bo'lishi kerak",f(3)),maxLength:r.withMessage("100 ta belgidan kam bo'lishi kerak",v(100))}}}},U={class:"container-xxl"},F={class:"authentication-wrapper authentication-basic container-p-y"},$={class:"authentication-inner"},j={class:"card"},q={class:"card-body"},J=z('<div class="app-brand justify-content-center"><a href="index.html" class="app-brand-link gap-2"><span class="app-brand-logo demo"></span><span class="app-brand-text demo text-body fw-bolder">Sneat</span></a></div><h5 class="mb-2">Adventure starts here ðŸš€</h5><p class="mb-4">Make your app management easy and fun!</p>',3),S={class:"mb-3"},D=s("label",{for:"username",class:"form-label"},"Ism Familiya",-1),H={key:0,class:"invalid-input-text"},N={class:"mb-3"},E=s("label",{for:"email",class:"form-label"},"Elektron pochta",-1),Y={key:0,class:"invalid-input-text"},A={class:"mb-3 form-password-toggle"},I=s("label",{class:"form-label",for:"password"},"Parol",-1),K={class:"input-group input-group-merge"},R=["type"],X={key:0,class:"invalid-input-text"},G={key:0,class:"mb-3"},Q=s("option",{selected:"",disabled:""},"Kasbni tanlang",-1),W=["value"],Z={class:"text-center"},ss=s("span",{class:"me-2"},"Akkauntingiz bormi?",-1),es=s("span",null,"Sahifangizga kiring",-1);function ts(o,e,as,i,a,d){const _=k("router-link");return l(),n("div",U,[s("div",F,[s("div",$,[s("div",j,[s("div",q,[J,s("div",S,[D,u(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.auth.ism=t),type:"text",class:c(["form-control",{"invalid-input":i.v$.auth.ism.$error}]),id:"username",name:"username",placeholder:"Ismingizni kiriting",autofocus:""},null,2),[[b,a.auth.ism]]),i.v$.auth.ism.$error?(l(),n("div",H,h(i.v$.auth.ism.$errors[0].$message),1)):m("",!0)]),s("div",N,[E,u(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.auth.login=t),type:"email",class:c(["form-control",{"invalid-input":i.v$.auth.login.$error}]),id:"email",name:"email",placeholder:"example@mail.ru"},null,2),[[b,a.auth.login]]),i.v$.auth.login.$error?(l(),n("div",Y,h(i.v$.auth.login.$errors[0].$message),1)):m("",!0)]),s("div",A,[I,s("div",K,[u(s("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.auth.parol=t),type:a.showPassword?"text":"password",id:"password",class:c(["form-control",{"invalid-input-password":i.v$.auth.parol.$error}]),name:"password",placeholder:"******","aria-describedby":"password"},null,10,R),[[y,a.auth.parol]]),s("span",{onClick:e[3]||(e[3]=(...t)=>d.togglePasswordVisibility&&d.togglePasswordVisibility(...t)),class:"input-group-text cursor-pointer"},[s("i",{class:c(a.showPassword?"fa-solid fa-eye-slash":"fa-solid fa-eye")},null,2)]),i.v$.auth.parol.$error?(l(),n("div",X,h(i.v$.auth.parol.$errors[0].$message),1)):m("",!0)])]),a.isJobsLoaded?(l(),n("div",G,[u(s("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":e[4]||(e[4]=t=>a.auth.kasblar_id=t)},[Q,(l(!0),n(L,null,M(a.jobsList,t=>(l(),n("option",{value:t.id},h(t.nomi),9,W))),256))],512),[[x,a.auth.kasblar_id]])])):m("",!0),s("button",{onClick:e[5]||(e[5]=(...t)=>d.registerUser&&d.registerUser(...t)),class:"btn btn-primary d-grid w-100"},"Ro'yhatdan o'tish")]),s("p",Z,[ss,P(_,{to:"/auth/login",href:"auth-register-basic.html"},{default:V(()=>[es]),_:1})])])])])])}const ns=O(T,[["render",ts]]);export{ns as default};
